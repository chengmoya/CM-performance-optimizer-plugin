# =====================================================
# CM 性能优化插件配置 v3.0.0
# 
# 功能说明：
#   通过缓存数据库查询结果来优化MaiBot性能
#   - 消息缓存：拦截find_messages查询，命中率>95%
#   - 人物信息缓存：拦截人物信息查询，命中率>90%
#
# 内存占用：约10-20MB (取决于缓存大小配置)
# CPU开销：极低，仅在缓存未命中时有额外开销
#
# 依赖：无额外依赖，使用Python标准库
# =====================================================

# ============ 插件基本配置 ============
[plugin]
enabled = true          # 是否启用插件
version = "3.0.0"       # 插件版本
report_interval = 60    # 统计报告间隔(秒)，设置0可关闭
log_level = "DEBUG"     # 日志等级: DEBUG/INFO/WARNING/ERROR

# ============ 功能模块开关 ============
[modules]
message_cache_enabled = true    # 消息缓存 - 缓存find_messages查询
person_cache_enabled = true     # 人物信息缓存 - 缓存昵称等信息
expression_cache_enabled = false # 表达式缓存 (开发中)
slang_cache_enabled = false      # 黑话缓存 (开发中)

# ============ 消息缓存配置 ============
# 每条约1-5KB，2000条约占用2-10MB内存
[message_cache]
max_size = 2000         # 缓存最大条目数
ttl = 120.0             # 缓存过期时间(秒)

# ============ 人物信息缓存配置 ============
# 每条约0.5-2KB，3000条约占用1.5-6MB内存
[person_cache]
max_size = 3000         # 缓存最大条目数
ttl = 1800              # 缓存过期时间(秒) 30分钟